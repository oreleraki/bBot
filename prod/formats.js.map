{"version":3,"sources":["../src/formats.js"],"names":["embedColor","formatQueryServers","list","richEmbed","Discord","RichEmbed","description","reduce","acc","curr","index","name","setTitle","setColor","setDescription","setFooter","formatQueryServerStatus","info","players","xServerQueryProps","remainingTime","teamScores","playerList","parseInt","numplayers","maxteams","xserverquery","remainingtime","minutes","seconds","timelimit","Object","keys","forEach","team","teamIndex","p","teamPlayers","teams","spec","length","addField","mapname","maxplayers","footerText","host","port","hostname","formatListGameTypes","guildName","title","sortedList","sort","a","b","body","i","toUpperCase","maxPlayers","formatJoinStatus","statuses","joined","user","activeCount","nf","missed","aj","username","formatLeaveStatus","isOffline","left","nj","formatDeadPugs","deadPugs","pug","formatBroadcastPug","toBroadcast","player","id","footer","prefix","captainTimeout","formatListAllCurrentGameTypes","prev","base","noOfPlayers","u","formatAddCaptainStatus","formatPickPlayerStatus","pickedPlayers","finished","picked","count","next","captains","pickingOrder","turn","pugTeams","Array","noOfTeams","fill","_","currTeams","pick","activeTeams","values","formatPugsInPicking","pugsInPicking","formatBroadcastCaptainsReady","pugCaptains","captain","pugPlayers"],"mappings":"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","sourcesContent":["import Discord from 'discord.js';\nimport {\n  getPlayerList,\n  getMinutesAndSeconds,\n  getTeamScores,\n  padNumberWithZeros,\n  getTeamIndex,\n} from './utils';\nimport { teams, prefix, captainTimeout } from './constants';\n\nconst embedColor = '#11806A';\n\nexport const formatQueryServers = list => {\n  const richEmbed = new Discord.RichEmbed();\n\n  const description = list.reduce((acc, curr, index) => {\n    acc += `\\`${index + 1}\\`\\u00A0\\u00A0\\u00A0${curr.name}\\n`;\n    return acc;\n  }, '');\n\n  richEmbed.setTitle(`IP\\u00A0\\u00A0\\u00A0Name`);\n  richEmbed.setColor(embedColor);\n  richEmbed.setDescription(description || 'No game servers added yet');\n  richEmbed.setFooter('To query, type .q ip');\n  return richEmbed;\n};\n\nexport const formatQueryServerStatus = (info, players) => {\n  const richEmbed = new Discord.RichEmbed();\n\n  const xServerQueryProps = { remainingTime: null, teamScores: {} };\n  const playerList = getPlayerList(\n    players,\n    parseInt(info.numplayers) || 0,\n    !!info.maxteams\n  );\n\n  if (info.xserverquery) {\n    const { minutes, seconds } = getMinutesAndSeconds(\n      parseInt(info.remainingtime)\n    );\n    const teamScores = getTeamScores(info, info.maxteams);\n    xServerQueryProps.remainingTime = `${\n      (minutes === parseInt(info.timelimit) && seconds === 0) ||\n      minutes < parseInt(info.timelimit)\n        ? '**Remaining Time:**'\n        : '**Overtime**:'\n    } ${padNumberWithZeros(minutes)}:${padNumberWithZeros(seconds)} \\n`;\n    xServerQueryProps.teamScores = Object.keys(teamScores).reduce(\n      (acc, curr) => {\n        const index = getTeamIndex(curr);\n        acc[index] = ` • ${teamScores[curr]}`;\n        return acc;\n      },\n      []\n    );\n  }\n\n  Object.keys(playerList).forEach(team => {\n    const teamIndex = getTeamIndex(team);\n    const p = playerList[team];\n    const teamPlayers = p.reduce((acc, curr) => {\n      if (team == teams.spec) acc += curr + ' • ';\n      else acc += curr + ' ' + '\\n';\n      return acc;\n    }, '');\n\n    p.length > 0\n      ? richEmbed.addField(\n          team + (xServerQueryProps.teamScores[teamIndex] || ``),\n          teamPlayers,\n          team !== teams.spec\n        )\n      : '';\n  });\n\n  const description = `**Map:** ${info.mapname}\\n**Players:** ${\n    info.numplayers\n  }/${info.maxplayers}\\n${xServerQueryProps.remainingTime || ''}`;\n  const footerText = `unreal://${info.host}:${info.port}`;\n\n  richEmbed.setTitle(info.hostname);\n  richEmbed.setColor(embedColor);\n  richEmbed.setDescription(description);\n  richEmbed.setFooter(footerText);\n  return richEmbed;\n};\n\nexport const formatListGameTypes = (guildName, list) => {\n  const title = `Pugs available at **${guildName}**`;\n  const sortedList = list.sort((a, b) => b.players - a.players); // by number of joined players\n\n  const body = sortedList.reduce((acc, curr, i) => {\n    acc += `**${curr.name.toUpperCase()}** (${curr.players}/${\n      curr.maxPlayers\n    }) ${i === list.length - 1 ? '' : ':small_blue_diamond:'}`;\n    return acc;\n  }, ``);\n\n  return `${title}\\n${body}`;\n};\n\nexport const formatJoinStatus = statuses => {\n  const { joined, missed, nf, aj, user } = statuses.reduce(\n    (acc, { joined, user, name, activeCount, maxPlayers }) => {\n      switch (joined) {\n        case -1:\n          acc.nf += `No pug found : **${name.toUpperCase()}**\\n`;\n          break;\n        case 0:\n          acc.missed += `Sorry, **${name.toUpperCase()}** is already filled\\n`;\n        case 1:\n          acc.joined += `**${name.toUpperCase()}** (${activeCount}/${maxPlayers}) :small_blue_diamond: `;\n          break;\n        case 2:\n          acc.aj += `**${name.toUpperCase()}** `;\n          break;\n        default:\n          null;\n      }\n      acc.user = user;\n      return acc;\n    },\n    {\n      joined: ``,\n      missed: ``,\n      nf: ``,\n      aj: ``,\n      user: null,\n    }\n  );\n\n  const body = `${\n    joined.length > 0\n      ? `${user.username} joined :small_blue_diamond: ${joined}`\n      : ``\n  } ${missed.length > 0 ? `\\n${missed}` : ``} ${\n    aj.length > 0 ? `\\n${user.username}, you have already joined ${aj}` : ``\n  } ${nf.length > 0 ? `\\n${nf}` : ``}`;\n\n  return body;\n};\n\nexport const formatLeaveStatus = (statuses, isOffline) => {\n  const { left, nj, nf, user } = statuses.reduce(\n    (acc, { left, name, user, activeCount, maxPlayers }) => {\n      switch (left) {\n        case 1:\n          acc.left += `${\n            acc.left.length > 0 ? `, ` : ``\n          }**${name.toUpperCase()}** (${activeCount}/${maxPlayers})`;\n          acc.user = user;\n          break;\n        case 0:\n          acc.nj = `Cannot leave pug(s) you haven't joined :head_bandage:`;\n          break;\n        case -1:\n          acc.nf += `No pug found : **${name.toUpperCase()}**\\n`;\n          break;\n        default:\n          null;\n      }\n      return acc;\n    },\n    { user: null, left: ``, nj: ``, nf: `` }\n  );\n\n  const body = `${\n    left.length > 0\n      ? `${user.username} left  ${left} ${\n          isOffline ? `because the person went offline` : ``\n        }`\n      : ``\n  }${nj.length > 0 ? `\\n${nj}` : ``}${nf.length > 0 ? `\\n${nf}` : ``}`;\n  return body;\n};\n\nexport const formatDeadPugs = deadPugs => {\n  const body = deadPugs.reduce((acc, { pug, user }, i) => {\n    acc += `${\n      i > 0 ? `\\n` : ``\n    } :joy_cat: **${pug.name.toUpperCase()}** was stopped because **${\n      user.username\n    }** left :joy_cat: `;\n    return acc;\n  }, ``);\n  return body;\n};\n\nexport const formatBroadcastPug = toBroadcast => {\n  const title = `**${toBroadcast.name.toUpperCase()}** has been filled!`;\n  const body = toBroadcast.players.reduce((acc, player) => {\n    acc += `<@${player.id}> `;\n    return acc;\n  }, ``);\n  const footer = `Type **${prefix}captain** to become a captain for this pug. Random captains will be picked in ${captainTimeout /\n    1000} seconds`;\n\n  return `${title}\\n${body}${footer}\\n`;\n};\n\nexport const formatListAllCurrentGameTypes = (list, guildName) => {\n  const body = list.reduce((prev, curr) => {\n    const base = `**${curr.name.toUpperCase()}** (${curr.players.length}/${\n      curr.noOfPlayers\n    }) `;\n\n    const players = curr.players.reduce((acc, u) => {\n      acc += `:small_blue_diamond: ${u.username} `;\n      return acc;\n    }, ``);\n\n    prev += `${base}${players}\\n`;\n    return prev;\n  }, ``);\n\n  return body\n    ? `Listing active pugs at **${guildName}**\\n${body}`\n    : `There are currently no active pugs, try joining one!`;\n};\n\nexport const formatAddCaptainStatus = (user, { team }) => {\n  const body = `**${user.username}** became captain for **${teams[\n    `team_${team}`\n  ].toUpperCase()}**`;\n  return body;\n};\n\nexport const formatPickPlayerStatus = ({ pickedPlayers, finished, pug }) => {\n  const picked = pickedPlayers.reduce((acc, curr) => {\n    acc += `<@${curr.player.id}> was picked for **${\n      teams[`team_${curr.team}`]\n    }**\\n`;\n    return acc;\n  }, ``);\n\n  let count = 0;\n  const next = pug.captains[pug.pickingOrder[pug.turn]];\n\n  if (!finished) {\n    for (let i = pug.turn; ; i++) {\n      if (pug.pickingOrder[i] !== next.team) break;\n      count++;\n    }\n  }\n\n  const turn = finished\n    ? `:fire: Picking has finished :fire:`\n    : `<@${next.id}> pick ${count} players for **${\n        teams[`team_${next.team}`]\n      }**`;\n\n  const pugTeams = Array(pug.noOfTeams)\n    .fill(0)\n    .reduce((acc, _, i) => {\n      acc[i] = `**${teams[`team_${i}`]}**: `;\n      return acc;\n    }, {});\n\n  const players = pug.players.reduce((acc, curr, index) => {\n    if (curr.team === null)\n      acc += `:small_blue_diamond: **${index + 1}**) *${curr.username}* `;\n    return acc;\n  }, `Players: `);\n\n  const currTeams = [...pug.players]\n    .sort((a, b) => a.pick - b.pick)\n    .reduce((acc, curr) => {\n      if (curr.team !== null) acc[curr.team] += `*${curr.username}*  `;\n      return acc;\n    }, pugTeams);\n\n  const activeTeams = Object.values(currTeams).reduce((acc, curr) => {\n    acc += `${curr}\\n`;\n    return acc;\n  }, ``);\n\n  return `${picked}\\n${turn}\\n\\n${\n    finished ? `` : `${players}\\n`\n  }\\n${activeTeams}`;\n};\n\nexport const formatPugsInPicking = pugsInPicking => {\n  const body = pugsInPicking.reduce((acc, pug) => {\n    let count = 0;\n    const next = pug.captains[pug.pickingOrder[pug.turn]];\n    for (let i = pug.turn; ; i++) {\n      if (pug.pickingOrder[i] !== next.team) break;\n      count++;\n    }\n    const turn = `<@${next.id}> pick ${count} players for **${\n      teams[`team_${next.team}`]\n    }**`;\n\n    const pugTeams = Array(pug.noOfTeams)\n      .fill(0)\n      .reduce((acc, _, i) => {\n        acc[i] = `**${teams[`team_${i}`]}**: `;\n        return acc;\n      }, {});\n\n    const players = pug.players.reduce((acc, curr, index) => {\n      if (curr.team === null)\n        acc += `:small_blue_diamond: **${index + 1}**) *${curr.username}* `;\n      return acc;\n    }, `Players: `);\n\n    const currTeams = [...pug.players]\n      .sort((a, b) => a.pick - b.pick)\n      .reduce((acc, curr) => {\n        if (curr.team !== null) acc[curr.team] += `*${curr.username}*  `;\n        return acc;\n      }, pugTeams);\n\n    const activeTeams = Object.values(currTeams).reduce((acc, curr) => {\n      acc += `${curr}\\n`;\n      return acc;\n    }, ``);\n\n    acc += `${turn}\\n\\n${players}\\n\\n${activeTeams}\\n\\n`;\n    return acc;\n  }, ``);\n\n  return body;\n};\n\nexport const formatBroadcastCaptainsReady = ({ players, captains }) => {\n  const pugCaptains = captains.reduce((acc, curr, index) => {\n    acc += `<@${curr.id}> is the captain for **${teams[`team_${index}`]}**\\n`;\n    return acc;\n  }, ``);\n\n  const turn = `<@${captains[0].id}> pick 1 player for **${teams[`team_0`]}**`;\n  const { pugPlayers } = players.reduce(\n    (acc, curr, index) => {\n      if (curr.captain === null)\n        acc.pugPlayers += `**${index + 1}**) *${curr.username}*  `;\n      return acc;\n    },\n    { pugPlayers: `Players: ` }\n  );\n\n  return `${pugCaptains}\\n${turn}\\n${pugPlayers}`;\n};\n"],"file":"formats.js"}
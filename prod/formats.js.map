{"version":3,"sources":["../src/formats.js"],"names":["embedColor","formatQueryServers","list","richEmbed","Discord","RichEmbed","description","reduce","acc","curr","index","name","setTitle","setColor","setDescription","setFooter","formatQueryServerStatus","info","players","xServerQueryProps","remainingTime","teamScores","playerList","parseInt","numplayers","maxteams","xserverquery","remainingtime","minutes","seconds","timelimit","Object","keys","forEach","team","teamIndex","p","teamPlayers","teams","spec","length","addField","mapname","maxplayers","footerText","host","port","hostname","formatListGameTypes","guildName","title","sortedList","sort","a","b","body","i","toUpperCase","maxPlayers","formatJoinStatus","statuses","joined","user","activeCount","nf","missed","emojis","tearddy","aj","username","formatLeaveStatus","isOffline","left","nj","smart","residentsleeper","pupcurn","formatDeadPugs","deadPugs","pug","peepoComfy","formatBroadcastPug","toBroadcast","moskva","player","id","footer","prefix","captainTimeout","formatListGameType","noOfPlayers","u","formatListAllCurrentGameTypes","prev","base","formatAddCaptainStatus","teamEmojis","formatPickPlayerStatus","pickedPlayers","finished","picked","count","next","captains","pickingOrder","turn","pugTeams","Array","noOfTeams","fill","_","rating","toFixed","tag","currTeams","pick","activeTeams","values","slice","formatPugsInPicking","pugsInPicking","formatBroadcastCaptainsReady","pugCaptains","captain","pugPlayers","formatPromoteAvailablePugs","pugs","picking","formatLastPugStatus","action","timestamp","winner","updated","distanceInWords","Date","addSuffix","charAt","result","undefined","formatUserStats","stats","last_pug","totalPugs","totalCaptains","totalCaptain","totalWins","won","totalLosses","lost","totalWinRate","totalGameTypes","totals","distance","lastMetaData","collectiveStatsTitle","collectiveStatsBody","entries","pugName","pugStats","winPercentage","totalRating"],"mappings":"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","sourcesContent":["import Discord from 'discord.js';\nimport {\n  getPlayerList,\n  getMinutesAndSeconds,\n  getTeamScores,\n  padNumberWithZeros,\n  getTeamIndex,\n} from './utils';\nimport { teams, prefix, captainTimeout, emojis, teamEmojis } from './constants';\nimport { distanceInWordsStrict } from 'date-fns';\n\nconst embedColor = '#11806A';\n\nexport const formatQueryServers = list => {\n  const richEmbed = new Discord.RichEmbed();\n\n  const description = list.reduce((acc, curr, index) => {\n    acc += `\\`${index + 1}\\`\\u00A0\\u00A0\\u00A0${curr.name}\\n`;\n    return acc;\n  }, '');\n\n  richEmbed.setTitle(`IP\\u00A0\\u00A0\\u00A0Name`);\n  richEmbed.setColor(embedColor);\n  richEmbed.setDescription(description || 'No game servers added yet');\n  richEmbed.setFooter('To query, type .q ip');\n  return richEmbed;\n};\n\nexport const formatQueryServerStatus = (info, players) => {\n  const richEmbed = new Discord.RichEmbed();\n\n  const xServerQueryProps = { remainingTime: null, teamScores: {} };\n  const playerList = getPlayerList(\n    players,\n    parseInt(info.numplayers) || 0,\n    !!info.maxteams\n  );\n\n  if (info.xserverquery) {\n    const { minutes, seconds } = getMinutesAndSeconds(\n      parseInt(info.remainingtime)\n    );\n    const teamScores = getTeamScores(info, info.maxteams);\n    xServerQueryProps.remainingTime = `${\n      (minutes === parseInt(info.timelimit) && seconds === 0) ||\n      minutes < parseInt(info.timelimit)\n        ? '**Remaining Time:**'\n        : '**Overtime**:'\n    } ${padNumberWithZeros(minutes)}:${padNumberWithZeros(seconds)} \\n`;\n    xServerQueryProps.teamScores = Object.keys(teamScores).reduce(\n      (acc, curr) => {\n        const index = getTeamIndex(curr);\n        acc[index] = ` • ${teamScores[curr]}`;\n        return acc;\n      },\n      []\n    );\n  }\n\n  Object.keys(playerList).forEach(team => {\n    const teamIndex = getTeamIndex(team);\n    const p = playerList[team];\n    const teamPlayers = p.reduce((acc, curr) => {\n      if (team == teams.spec) acc += curr + ' • ';\n      else acc += curr + ' ' + '\\n';\n      return acc;\n    }, '');\n\n    p.length > 0\n      ? richEmbed.addField(\n          team + (xServerQueryProps.teamScores[teamIndex] || ``),\n          teamPlayers,\n          team !== teams.spec\n        )\n      : '';\n  });\n\n  const description = `**Map:** ${info.mapname}\\n**Players:** ${\n    info.numplayers\n  }/${info.maxplayers}\\n${xServerQueryProps.remainingTime || ''}`;\n  const footerText = `unreal://${info.host}:${info.port}`;\n\n  richEmbed.setTitle(info.hostname);\n  richEmbed.setColor(embedColor);\n  richEmbed.setDescription(description);\n  richEmbed.setFooter(footerText);\n  return richEmbed;\n};\n\nexport const formatListGameTypes = (guildName, list) => {\n  const title = `Pugs available at **${guildName}**`;\n  const sortedList = list.sort((a, b) => b.players - a.players); // by number of joined players\n\n  const body = sortedList.reduce((acc, curr, i) => {\n    acc += `**${curr.name.toUpperCase()}** (${curr.players}/${\n      curr.maxPlayers\n    }) ${i === list.length - 1 ? '' : ':small_orange_diamond:'}`;\n    return acc;\n  }, ``);\n\n  return `${title}\\n${body}`;\n};\n\nexport const formatJoinStatus = statuses => {\n  const { joined, missed, nf, aj, user } = statuses.reduce(\n    (acc, { joined, user, name, activeCount, maxPlayers }) => {\n      switch (joined) {\n        case -1:\n          acc.nf += `No pug found: **${name.toUpperCase()}**\\n`;\n          break;\n        case 0:\n          acc.missed += `Sorry, **${name.toUpperCase()}** is already filled ${\n            emojis.tearddy\n          }\\n`;\n          break;\n        case 1:\n          acc.joined += `**${name.toUpperCase()}** (${activeCount}/${maxPlayers}) :small_orange_diamond: `;\n          break;\n        case 2:\n          acc.aj += `**${name.toUpperCase()}** `;\n          break;\n        default:\n          null;\n      }\n      acc.user = user;\n      return acc;\n    },\n    {\n      joined: ``,\n      missed: ``,\n      nf: ``,\n      aj: ``,\n      user: null,\n    }\n  );\n\n  const body = `${\n    joined.length > 0\n      ? `${user.username} joined :small_orange_diamond: ${joined}`\n      : ``\n  } ${missed.length > 0 ? `\\n${missed}` : ``} ${\n    aj.length > 0 ? `\\n${user.username}, you have already joined ${aj}` : ``\n  } ${nf.length > 0 ? `\\n${nf}` : ``}`;\n\n  return body;\n};\n\nexport const formatLeaveStatus = (statuses, isOffline) => {\n  const { left, nj, nf, user } = statuses.reduce(\n    (acc, { left, name, user, activeCount, maxPlayers }) => {\n      switch (left) {\n        case 1:\n          acc.left += `${\n            acc.left.length > 0 ? `, ` : ``\n          }**${name.toUpperCase()}** (${activeCount}/${maxPlayers})`;\n          acc.user = user;\n          break;\n        case 0:\n          acc.nj = `Cannot leave pug(s) you haven't joined ${emojis.smart}`;\n          break;\n        case -1:\n          acc.nf += `No pug found: **${name.toUpperCase()}**\\n`;\n          break;\n        default:\n          null;\n      }\n      return acc;\n    },\n    { user: null, left: ``, nj: ``, nf: `` }\n  );\n\n  const body = `${\n    left.length > 0\n      ? `${user.username} left  ${left} ${\n          isOffline\n            ? `because the user went offline ${emojis.residentsleeper}${emojis.pupcurn}`\n            : ``\n        }`\n      : ``\n  }${nj.length > 0 ? `\\n${nj}` : ``}${nf.length > 0 ? `\\n${nf}` : ``}`;\n  return body;\n};\n\nexport const formatDeadPugs = deadPugs => {\n  const body = deadPugs.reduce((acc, { pug, user }, i) => {\n    acc += `${i > 0 ? `\\n` : ``} ${\n      emojis.peepoComfy\n    } **${pug.name.toUpperCase()}** was stopped because **${\n      user.username\n    }** left ${emojis.peepoComfy}`;\n    return acc;\n  }, ``);\n  return body;\n};\n\nexport const formatBroadcastPug = toBroadcast => {\n  const title = `${\n    emojis.moskva\n  } :mega: **${toBroadcast.name.toUpperCase()}** has been filled!`;\n  const body = toBroadcast.players.reduce((acc, player) => {\n    acc += `<@${player.id}> `;\n    return acc;\n  }, ``);\n  const footer = `Type **${prefix}captain** to become a captain for this pug. Random captains will be picked in ${captainTimeout /\n    1000} seconds`;\n\n  return `${title}\\n${body}\\n${footer}\\n`;\n};\n\nexport const formatListGameType = pug => {\n  const title = `**${pug.name.toUpperCase()}** (${pug.players.length}/${\n    pug.noOfPlayers\n  })`;\n\n  const players = pug.players.reduce((acc, u) => {\n    acc += `:small_orange_diamond: ${u.username} `;\n    return acc;\n  }, ``);\n\n  return `${title}${players}`;\n};\n\nexport const formatListAllCurrentGameTypes = (list, guildName) => {\n  const body = list.reduce((prev, curr) => {\n    const base = `**${curr.name.toUpperCase()}** (${curr.players.length}/${\n      curr.noOfPlayers\n    }) `;\n\n    const players = curr.players.reduce((acc, u) => {\n      acc += `:small_orange_diamond: ${u.username} `;\n      return acc;\n    }, ``);\n\n    prev += `${base}${players}\\n`;\n    return prev;\n  }, ``);\n\n  return body\n    ? `Listing active pugs at **${guildName}**\\n${body}`\n    : `There are currently no active pugs, try joining one!`;\n};\n\nexport const formatAddCaptainStatus = (user, { team }) => {\n  const body = `**${user.username}** became captain for ${\n    teamEmojis[`team_${team}`]\n  } **${teams[`team_${team}`].toUpperCase()}** ${teamEmojis[`team_${team}`]}`;\n  return body;\n};\n\nexport const formatPickPlayerStatus = ({ pickedPlayers, finished, pug }) => {\n  const picked = pickedPlayers.reduce((acc, curr) => {\n    acc += `<@${curr.player.id}> was picked for **${\n      teams[`team_${curr.team}`]\n    }**\\n`;\n    return acc;\n  }, ``);\n\n  let count = 0;\n  const next = pug.captains[pug.pickingOrder[pug.turn]];\n\n  if (!finished) {\n    for (let i = pug.turn; ; i++) {\n      if (pug.pickingOrder[i] !== next.team) break;\n      count++;\n    }\n  }\n\n  const turn = finished\n    ? `:fire: **Picking has finished** :fire:`\n    : `<@${next.id}> pick ${count} player${count > 1 ? 's' : ''} for **${\n        teams[`team_${next.team}`]\n      }**`;\n\n  const pugTeams = Array(pug.noOfTeams)\n    .fill(0)\n    .reduce((acc, _, i) => {\n      acc[i] = `**${teams[`team_${i}`]}** ${teamEmojis[`team_${i}`]} `;\n      return acc;\n    }, {});\n\n  const players = pug.players.reduce((acc, curr, index) => {\n    if (curr.team === null)\n      acc += `**${index + 1})** *${curr.username}* (${\n        curr.rating === 0 ? 'no rating' : curr.rating.toFixed(2)\n      }) ${curr.tag ? `[${curr.tag}] ` : ''}`;\n    return acc;\n  }, `Players: `);\n\n  const currTeams = [...pug.players]\n    .sort((a, b) => a.pick - b.pick)\n    .reduce((acc, curr) => {\n      if (curr.team !== null)\n        acc[curr.team] += `*${curr.username}* :small_orange_diamond: `;\n      return acc;\n    }, pugTeams);\n\n  const activeTeams = Object.values(currTeams).reduce((acc, curr) => {\n    acc += `${curr.slice(0, curr.length - 24)}\\n`;\n    return acc;\n  }, ``);\n\n  return `${picked}\\n${turn}\\n${finished ? '' : '\\n'}${\n    finished ? `` : `${players}\\n`\n  }\\n${activeTeams}`;\n};\n\nexport const formatPugsInPicking = pugsInPicking => {\n  const body = pugsInPicking.reduce((acc, pug) => {\n    let count = 0;\n    const next = pug.captains[pug.pickingOrder[pug.turn]];\n    for (let i = pug.turn; ; i++) {\n      if (pug.pickingOrder[i] !== next.team) break;\n      count++;\n    }\n    const turn = `<@${next.id}> pick ${count} player${\n      count > 1 ? 's' : ''\n    } for **${teams[`team_${next.team}`]}**`;\n\n    const pugTeams = Array(pug.noOfTeams)\n      .fill(0)\n      .reduce((acc, _, i) => {\n        acc[i] = `**${teams[`team_${i}`]}** ${teamEmojis[`team_${i}`]} `;\n        return acc;\n      }, {});\n\n    const players = pug.players.reduce((acc, curr, index) => {\n      if (curr.team === null)\n        acc += `**${index + 1})** *${curr.username}* (${\n          curr.rating === 0 ? 'no rating' : curr.rating.toFixed(2)\n        }) ${curr.tag ? `[${curr.tag}] ` : ''}`;\n      return acc;\n    }, `Players: `);\n\n    const currTeams = [...pug.players]\n      .sort((a, b) => a.pick - b.pick)\n      .reduce((acc, curr) => {\n        if (curr.team !== null)\n          acc[curr.team] += `*${curr.username}* :small_orange_diamond: `;\n        return acc;\n      }, pugTeams);\n\n    const activeTeams = Object.values(currTeams).reduce((acc, curr) => {\n      acc += `${curr.slice(0, curr.length - 24)}\\n`;\n      return acc;\n    }, ``);\n\n    acc += `${turn}\\n\\n${players}\\n\\n${activeTeams}\\n\\n`;\n    return acc;\n  }, ``);\n\n  return body;\n};\n\nexport const formatBroadcastCaptainsReady = ({ players, captains }) => {\n  const pugCaptains = captains.reduce((acc, curr, index) => {\n    acc += `<@${curr.id}> is the captain for ${teamEmojis[`team_${index}`]} **${\n      teams[`team_${index}`]\n    }** ${teamEmojis[`team_${index}`]}\\n`;\n    return acc;\n  }, ``);\n\n  const turn = `<@${captains[0].id}> pick 1 player for **${teams[`team_0`]}**`;\n  const { pugPlayers } = players.reduce(\n    (acc, curr, index) => {\n      if (curr.captain === null)\n        acc.pugPlayers += `**${index + 1})** *${curr.username}* (${\n          curr.rating === 0 ? 'no rating' : curr.rating.toFixed(2)\n        }) ${curr.tag ? `[${curr.tag}] ` : ''}`;\n      return acc;\n    },\n    { pugPlayers: `Players: ` }\n  );\n\n  return `${pugCaptains}\\n${turn}\\n${pugPlayers}`;\n};\n\nexport const formatPromoteAvailablePugs = (pugs, guildName) => {\n  const title = `@here in **${guildName}**`;\n  const body = pugs.reduce((acc, curr) => {\n    if (!curr.picking) {\n      acc += `**${curr.noOfPlayers -\n        curr.players\n          .length}** more needed for **${curr.name.toUpperCase()}**\\n`;\n    }\n    return acc;\n  }, ``);\n  return `${title}\\n${body}`;\n};\n\nexport const formatLastPugStatus = (\n  { pug, guildName },\n  action,\n  timestamp,\n  { winner, updated }\n) => {\n  const distanceInWords = distanceInWordsStrict(new Date(), timestamp, {\n    addSuffix: true,\n  });\n  const title = `${action.charAt(0).toUpperCase() +\n    action.slice(\n      1\n    )} **${pug.name.toUpperCase()}** at **${guildName}** (${distanceInWords})`;\n\n  const pugTeams = Array(pug.noOfTeams)\n    .fill(0)\n    .reduce((acc, _, i) => {\n      acc[i] = `**${teams[`team_${i}`]}** ${teamEmojis[`team_${i}`]} `;\n      return acc;\n    }, {});\n\n  const currTeams = [...pug.players]\n    .sort((a, b) => a.pick - b.pick)\n    .reduce((acc, curr) => {\n      if (curr.team !== null)\n        acc[curr.team] += `*${curr.username}* :small_orange_diamond: `;\n      return acc;\n    }, pugTeams);\n\n  const activeTeams = Object.values(currTeams).reduce((acc, curr) => {\n    acc += `${curr.slice(0, curr.length - 24)}\\n`;\n    return acc;\n  }, ``);\n\n  const result =\n    winner !== undefined\n      ? `:trophy: ${teamEmojis[`team_${winner}`]} :trophy:`\n      : ``;\n  return `${\n    updated ? `Pug Stat Updated\\n\\n` : ``\n  }${title}\\n\\n${activeTeams}\\n${result}`;\n};\n\nexport const formatUserStats = ({ username, stats, last_pug }) => {\n  const {\n    totalPugs,\n    totalCaptains,\n    totalWins,\n    totalLosses,\n    totalWinRate,\n    totalGameTypes,\n  } = Object.values(stats).reduce(\n    (acc, curr) => {\n      acc.totalPugs += curr.totalPugs || 0;\n      acc.totalCaptains += curr.totalCaptain || 0;\n      acc.totalWins += curr.won || 0;\n      acc.totalLosses += curr.lost || 0;\n      return acc;\n    },\n    {\n      totalPugs: 0,\n      totalCaptains: 0,\n      totalWins: 0,\n      totalLosses: 0,\n      totalWinRate: 0,\n      totalGameTypes: 0,\n    }\n  );\n  const title = `:pencil: Showing stats for **${username}** :pencil:`;\n  const totals = `:video_game: **${totalPugs}** pug${\n    totalPugs !== 1 ? 's' : ''\n  }\\t:cop: **${totalCaptains}**\\t:trophy: **${totalWins}**\\t:x: **${totalLosses}**`;\n  const distance = distanceInWordsStrict(new Date(), last_pug.timestamp, {\n    addSuffix: true,\n  });\n\n  const pugTeams = Array(last_pug.noOfTeams)\n    .fill(0)\n    .reduce((acc, _, i) => {\n      acc[i] = `\\t**${teams[`team_${i}`]}** ${teamEmojis[`team_${i}`]} `;\n      return acc;\n    }, {});\n\n  const currTeams = [...last_pug.players]\n    .sort((a, b) => a.pick - b.pick)\n    .reduce((acc, curr) => {\n      if (curr.team !== null)\n        acc[curr.team] += `*${curr.username}* :small_orange_diamond: `;\n      return acc;\n    }, pugTeams);\n\n  const activeTeams = Object.values(currTeams).reduce((acc, curr) => {\n    acc += `${curr.slice(0, curr.length - 24)}\\n`;\n    return acc;\n  }, ``);\n\n  const lastMetaData = `Last pug played was **${last_pug.name.toUpperCase()}** (${distance})`;\n  const collectiveStatsTitle = `__**Gametypes**__`;\n  const collectiveStatsBody = Object.entries(stats).reduce(\n    (acc, [pugName, pugStats], i) => {\n      const won = pugStats.won || 0;\n      const lost = pugStats.lost || 0;\n      const winPercentage = pugStats.won\n        ? pugStats.won / (pugStats.won + pugStats.lost)\n        : 0;\n      acc += `**${pugName.toUpperCase()}**\\t**${pugStats.totalPugs}** pug${\n        pugStats.totalPugs !== 1 ? 's' : ''\n      }\\t:cop: **${pugStats.totalCaptain}**\\t:star: ${\n        pugStats.totalRating === 0\n          ? `**no rating**`\n          : `**${pugStats.totalRating.toFixed(2)}**`\n      }\\t:trophy: **${won}**\\t:x: **${lost}**\\t:muscle: **${(\n        winPercentage * 100\n      ).toFixed(2)}%**\\n`;\n      return acc;\n    },\n    ``\n  );\n\n  return `${title}\\n\\n${totals}\\n\\n${lastMetaData}\\n${activeTeams}\\n${collectiveStatsTitle}\\n${collectiveStatsBody}`;\n};\n"],"file":"formats.js"}